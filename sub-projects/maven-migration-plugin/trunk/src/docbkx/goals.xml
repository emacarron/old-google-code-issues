<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE appendix PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<!--
    Copyright 2010 The myBatis Team

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

<!--
    version: $Id$
-->
<appendix>
    <title>Plugin Goals</title>
    <section id="gloal.list">
        <title>list</title>
        <para>
            <table>
                <caption>Plugin goals list</caption>
                <thead>
                    <tr>
                        <th>Goal</th>
                        <th>Report?</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            migration:bootstrap
                        </td>
                        <td>No</td>
                        <td>Goal which execute the MyBatis migration bootstrap command.</td>
                    </tr>
                    <tr>
                        <td>
                            migration:check
                        </td>
                        <td>No</td>
                        <td>Goal which check the presence of pending migration.</td>
                    </tr>
                    <tr>
                        <td>
                            migration:down
                        </td>
                        <td>No</td>
                        <td>Goal which execute the MyBatis migration status command.</td>
                    </tr>
                    <tr>
                        <td>
                            migration:init
                        </td>
                        <td>No</td>
                        <td>Goal which executes the MyBatis migration init command. Init command creates a new migrate repository into 'repository' location.</td>
                    </tr>
                    <tr>
                        <td>
                            migration:new
                        </td>
                        <td>No</td>
                        <td>Goal which executes the MyBatis migration new command.</td>
                    </tr>
                    <tr>
                        <td>
                            migration:pending
                        </td>
                        <td>No</td>
                        <td>Goal which execute the MyBatis migration pending command.</td>
                    </tr>
                    <tr>
                        <td>
                            migration:script
                        </td>
                        <td>No</td>
                        <td>Goal which executes the MyBatis migration script command.</td>
                    </tr>
                    <tr>
                        <td>
                            migration:status
                        </td>
                        <td>No</td>
                        <td>Goal which execute the MyBatis migration status command.</td>
                    </tr>
                    <tr>
                        <td>
                            migration:status-report
                        </td>
                        <td>Yes</td>
                        <td>
                            Extends AbstractMavenReport. Class to generate a maven report.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            migration:up
                        </td>
                        <td>No</td>
                        <td>Goal which execute the MyBatis migration status command.</td>
                    </tr>
                    <tr>
                        <td>
                            migration:version
                        </td>
                        <td>No</td>
                        <td>Goal which execute the MyBatis migration version command.</td>
                    </tr>
                </tbody>
            </table>
        </para>
    </section>

     <section id="commons-parameters">
        <title>Commons parameters</title>
        <para>
            All goal have the follow parameter:
        </para>

        <para>
            <table>
                <caption>List of common parameter</caption>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Default value</th>
                        <th>Expression</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>environment</td>
                        <td>development</td>
                        <td>migration.env</td>
                        <td>Environment to configure.</td>
                    </tr>
                    <tr>
                        <td>force</td>
                        <td>false</td>
                        <td>migration.force</td>
                        <td>Forces script to continue even if SQL errors are encountered.</td>
                    </tr>
                    <tr>
                        <td>repository</td>
                        <td>.</td>
                        <td>migration.path</td>
                        <td>Location of migrate repository.</td>
                    </tr>
                     <tr>
                        <td>skip</td>
                        <td>false</td>
                        <td>migration.skip</td>
                        <td>Skip migration actions.</td>
                    </tr>
                </tbody>
            </table>
        </para>
    </section>




    <section id="goal.extra.params">
        <title>Goal with extra parameter</title>
        <section>
            <title>migration:check</title>
            <para>
                <table>
                    <caption>migration:check</caption>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Default value</th>
                            <th>Expression</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>downSteps</td>
                            <td>1</td>
                            <td>migration.down.steps</td>
                            <td>Steps to do. (type ALL to apply all down steps).</td>
                        </tr>
                    </tbody>
                </table>
            </para>
        </section>

        <section>
            <title>migration:new</title>
            <para>
                <table>
                    <caption>migration:new</caption>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Default value</th>
                            <th>Expression</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>description</td>
                            <td>No default value!</td>
                            <td>migration.description</td>
                            <td>New file description.</td>
                        </tr>
                        <tr>
                            <td>template</td>
                            <td>No default value!</td>
                            <td>migration.template</td>
                            <td>Alternative template file description.</td>
                        </tr>
                    </tbody>
                </table>
            </para>
        </section>

        <section>
            <title>migration:script</title>
            <para>
                <table>
                    <caption>migration:script</caption>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Default value</th>
                            <th>Expression</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>v1</td>
                            <td>No default value!</td>
                            <td>migration.v1</td>
                            <td>Initial version</td>
                        </tr>
                         <tr>
                            <td>v2</td>
                            <td>No default value!</td>
                            <td>migration.v2</td>
                            <td>Final version</td>
                        </tr>
                         <tr>
                            <td>output</td>
                            <td>No default value!</td>
                            <td>migration.output</td>
                            <td>The output file to be create.</td>
                        </tr>
                    </tbody>
                </table>
            </para>
        </section>

        <section>
            <title>migration:status-report</title>
            <para>
                <table>
                    <caption>migration:status-report</caption>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Default value</th>
                            <th>Expression</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>aggregate</td>
                            <td>false</td>
                            <td>migration.aggregate</td>
                            <td>Aggregate report results.</td>
                        </tr>
                    </tbody>
                </table>
            </para>
        </section>

        <section>
            <title>migration:up</title>
            <para>
                <table>
                    <caption>migration:up</caption>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Default value</th>
                            <th>Expression</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>upSteps</td>
                            <td>all steps</td>
                            <td>migration.up.steps</td>
                            <td>Steps to do</td>
                        </tr>
                    </tbody>
                </table>
            </para>
        </section>

        <section>
            <title>migration:version</title>
            <para>
                <table>
                    <caption>migration:version</caption>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Default value</th>
                            <th>Expression  </th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>version</td>
                            <td>No default value!</td>
                            <td>migration.version</td>
                            <td>Version string.</td>
                        </tr>
                    </tbody>
                </table>
            </para>
        </section>
    </section>
</appendix>
